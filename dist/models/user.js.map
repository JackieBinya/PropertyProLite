{"version":3,"sources":["../../src/models/user.js"],"names":["users","validate","req","schema","email","Joi","string","required","first_name","min","max","last_name","password","phoneNumber","address","isAdmin","body","generateAuthToken","user","jwt","sign","id","config","get"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,KAAK,GAAG,EAAd;;;AAGA,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACrB,MAAMC,MAAM,GAAG;AACbC,IAAAA,KAAK,EAAEC,gBAAIC,MAAJ,GAAaC,QAAb,GAAwBH,KAAxB,EADM;AAEbI,IAAAA,UAAU,EAAEH,gBAAIC,MAAJ,GAAaC,QAAb,GAAwBE,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,GAAnC,CAFC;AAGbC,IAAAA,SAAS,EAAEN,gBAAIC,MAAJ,GAAaC,QAAb,GAAwBE,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,GAAnC,CAHE;AAIbE,IAAAA,QAAQ,EAAEP,gBAAIC,MAAJ,GAAaC,QAAb,GAAwBE,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,GAAnC,CAJG;AAKbG,IAAAA,WAAW,EAAER,gBAAIC,MAAJ,GAAaC,QAAb,GAAwBE,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,EAAnC,CALA;AAMbI,IAAAA,OAAO,EAAET,gBAAIC,MAAJ,GAAaC,QAAb,GAAwBE,GAAxB,CAA4B,CAA5B,EAA+BC,GAA/B,CAAmC,GAAnC,CANI;AAObK,IAAAA,OAAO,EAAEV;AAPI,GAAf;AAUA,SAAOA,gBAAIJ,QAAJ,CAAaC,GAAG,CAACc,IAAjB,EAAuBb,MAAvB,CAAP;AACD;;AAED,SAASc,iBAAT,CAA2BC,IAA3B,EAAiC;AAC/B,SAAOC,yBAAIC,IAAJ,CAAS;AAAEC,IAAAA,EAAE,EAAEH,IAAI,CAACG,EAAX;AAAeN,IAAAA,OAAO,EAAEG,IAAI,CAACH;AAA7B,GAAT,EAAiDO,mBAAOC,GAAP,CAAW,eAAX,CAAjD,CAAP;AACD","sourcesContent":["import Joi from 'joi';\r\nimport jwt from 'jsonwebtoken';\r\nimport config from 'config';\r\n\r\nconst users = [];\r\n\r\n\r\nfunction validate(req) {\r\n  const schema = {\r\n    email: Joi.string().required().email(),\r\n    first_name: Joi.string().required().min(1).max(255),\r\n    last_name: Joi.string().required().min(1).max(255),\r\n    password: Joi.string().required().min(6).max(255),\r\n    phoneNumber: Joi.string().required().min(1).max(25),\r\n    address: Joi.string().required().min(1).max(255),\r\n    isAdmin: Joi.boolean(),\r\n  };\r\n\r\n  return Joi.validate(req.body, schema);\r\n}\r\n\r\nfunction generateAuthToken(user) {\r\n  return jwt.sign({ id: user.id, isAdmin: user.isAdmin }, config.get('jwtPrivateKey'));\r\n}\r\n\r\nexport { users, validate, generateAuthToken };\r\n"],"file":"user.js"}